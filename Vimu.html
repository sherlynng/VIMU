<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>VIMU</title>

    <link href="library/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="all" href="css/jquery.minicolors.css">
    <link rel="stylesheet" type="text/css" href="css/loading-bar.css"/>

    <!-- Custom styles for this template -->
    <link href="css/vimu.css" rel="stylesheet">

</head>
<body>
<!--Navigation-->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container" style="height:40px;">
        <div class="navbar-brand" id="logo" style="left: 30px; top: 15px; position: absolute;">VIMU</div>
        <div class="icons" style="right: 30px; top: 15px; position: absolute;">
            <button type="button" onclick="toggleEditing(); tutorial()" id="lock">
                <i class="fas fa-edit fa-2x"></i>
            </button>
            <button type="button" id="info" data-toggle="popover" data-html="true" data-placement="bottom" onclick="setInfo()"">
                <i class="fa fa-info-circle fa-2x"></i>
            </button>
            <div id="info-popover">
                <h5 class="info-title">VIMU</h5>
                <div class="information">
                    <p>VIMU is a visual sound kit and music editing website. Each letter or number corresponds to a
                        certain sound clip and visual. </p>
                    <p>Customise your own keyboard sound mappings by dragging an audio file onto a key of your choice.</p>
                    <p>Start mixing your own music simply by hitting the keys on the keyboard or clicking on the keys!</p>
                </div>
            </div>
            <button type="button" id="settings" data-toggle="popover" data-html="true" data-placement="bottom"
                    onclick="setSettings()">
                <i class="fa fa-cog fa-2x"></i>
            </button>
            <div id="settings-popover">
                <h5>KEYBOARD THEMES</h5>
                <button class="theme-btn" onclick="setTheme('blue')">
                    <div class="border-shadow">
                        <img class="img-fluid" src="img/theme-blue.png" alt="">
                    </div>
                </button>
                <button class="theme-btn" onclick="setTheme('green')">
                    <div class="border-shadow">
                        <img class="img-fluid" src="img/theme-green.png" alt="">
                    </div>
                </button>
                <button class="theme-btn" onclick="setTheme('red')">
                    <div class="border-shadow">
                        <img class="img-fluid" src="img/theme-red.png" alt="">
                    </div>
                </button>
                <button class="theme-btn" onclick="setTheme('orange')">
                    <div class="border-shadow">
                        <img class="img-fluid" src="img/theme-orange.png" alt="">
                    </div>
                </button>
                <div class="form-check mt-3">
                    <input class="form-check-input" type="checkbox" id="display-keyboard"
                           onchange="toggleKeyboard(this)">
                    <label class="form-check-label">Display Keyboard</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="display-labels"
                           onchange="toggleLabels(this)">
                    <label class="form-check-label">Display Labels</label>
                </div>
            </div>
        </div>
    </div>
</nav>

<!--Visualization canvas-->
<div id="container">
    <canvas id="myCanvas"></canvas>
    <div class="row components-container">
        <div class="col-2" id="file-directory">
            <h5>&nbsp;&nbsp;FILE DIRECTORY</h5>
            <form class="search-form">
                <div class="form-group tg-inputwithicon">
                    <i class="fa fa-search"></i>
                    <input type="text" class="form-control" name="search" id="search" placeholder="Search">
                </div>
            </form>
            <span id="new-folder"><i class="fas fa-plus"></i>&nbsp; New Folder</span>
            <br />
            <br />
            <div class="row" style="padding-right: 10px;">
                <div class="scrollbar scrollbar-primary force-overflow">
                    <ul class="directory">
                        <li class="folder folder-closed tg-inputwithicon" onclick="toggleOpenFolder(this, event)">
                            <i class="fa fa-folder"></i>
                            <p class="foldername" draggable="false" ondragstart="drag(event)">dir1</p>
                            <ul class="files">
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">clay.mp3</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">confetti.mp3</p>
                                </li>
                            </ul>
                        </li>
                        <li class="folder folder-closed tg-inputwithicon" onclick="toggleOpenFolder(this, event)">
                            <i class="fa fa-folder"></i>
                            <p class="foldername" draggable="false" ondragstart="drag(event)">dir2</p>
                            <ul class="files">
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">corona.mp3</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">glimmer.mp3</p>
                                </li>
                            </ul>
                        </li>
                        <li class="folder folder-closed tg-inputwithicon" onclick="toggleOpenFolder(this, event)">
                            <i class="fa fa-folder"></i>
                            <p class="foldername" draggable="false" ondragstart="drag(event)">dir3</p>
                            <ul class="files">
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">piston-1.mp3</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">piston-2.mp3</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">piston-3.mp3</p>
                                </li>
                            </ul>
                        </li>
                        <li class="folder folder-closed tg-inputwithicon" onclick="toggleOpenFolder(this, event)">
                            <i class="fa fa-folder"></i>
                            <p class="foldername" draggable="false" ondragstart="drag(event)">Piano Notes</p>
                            <ul class="files">
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">low-soh.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">low-la.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">low-ti.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">low-do.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">re.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">mi.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">fa.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">soh.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">la.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">ti.wav</p>
                                </li>
                                <li class="sound-file tg-inputwithicon" onclick="togglePlaySoundInDir(this, event)"
                                    style="display:none">
                                    <i class="fa fa-play"></i>
                                    <p class="soundname" draggable="true" ondragstart="drag(event)">high-do.wav</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="d-block mx-auto" id="drop-zone">
                <i class="fa fa-upload fa-2x"></i>
                <p>Drag files here/Click to Upload</p>
            </div>
        </div>
        <div id="keyboard-audio-visual">
            <div id="keyboard">
                <div class="keyboard-row row justify-content-md-center">
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>1</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="1">low-do.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar1"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar1loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>2</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="2">re.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar2"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar2loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>3</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="3">mi.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar3"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar3loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>4</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="4">fa.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar4"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar4loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>5</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="5">soh.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar5"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar5loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>6</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="6">la.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar6"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar6loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>7</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="7">ti.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar7"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar7loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>8</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="8">high-do.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar8"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar8loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>9</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="9"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar9"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar9loop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row1" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>0</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="0"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBar0"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBar0loop"></div>
                        </div>
                    </div>
                </div>
                <div class="keyboard-row row justify-content-md-center">
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>Q</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="Q">bubbles.mp3</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarQ"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarQloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>W</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="W">zig-zag.mp3</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarW"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarWloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>E</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="E">stealth-bopper.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarE"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarEloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>R</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="R"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarR"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarRloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>T</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="T"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarT"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarTloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>Y</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="Y"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarY"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarYloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>U</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="U"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarU"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarUloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>I</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="I"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarI"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarIloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>O</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="O"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarO"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarOloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row2" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>P</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="P"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarP"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarPloop"></div>
                        </div>
                    </div>
                </div>
                <div class="keyboard-row row justify-content-md-center">
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>A</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="A">kick.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarA"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarAloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>S</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="S">snare.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarS"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarSloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>D</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="D">clap1.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarD"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarDloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>F</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="F">clap2.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarF"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarFloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>G</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="G">cymbal1.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarG"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarGloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>H</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="H">cymbal2.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarH"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarHloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>J</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="J"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarJ"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarJloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>K</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="K"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarK"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarKloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row3" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>L</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="L"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarL"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarLloop"></div>
                        </div>
                    </div>
                </div>
                <div class="keyboard-row row justify-content-md-center">
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>Z</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="Z"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarZ"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarZloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>X</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="X"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarX"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarXloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>C</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="C"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarC"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarCloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>V</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="V"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarV"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarVloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>B</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="B"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarB"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarBloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>N</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="N"></p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarN"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarNloop"></div>
                        </div>
                    </div>
                    <div class="keyboard-key col-sm-1 mx-1 row4" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>M</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="M">martial.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarM"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarMloop"></div>
                        </div>
                    </div>
                </div>
                <div class="keyboard-row row">
                    <!-- selected key -->
                    <div id="selected-key-wrapper">
                        <div class="text-center" id="selected-key-container">
                            <h5 id="selected-key"></h5>
                        </div>
                        <div id="selected-key-text">Selected Key</div>
                    </div>
                    <div class="keyboard-key col-sm-5 row5" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h6>SPACE</h6>
                        <div>
                            <p draggable="true" ondragstart="drag(event)" id="SPACE">happy-music.wav</p>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj" data-value="0" data-preset="line" data-stroke-width="3"
                                 data-stroke-trail-width="3" id="ldBarSPACE"></div>
                        </div>
                        <div class="ldBar-container">
                            <div class="ldBar ldBar-obj ldBar-loop" data-value="0" data-preset="circle"
                                 data-stroke-width="10" data-stroke-trail-width="10" id="ldBarSPACEloop"></div>
                        </div>
                    </div>
                    <div class="col-sm-3 trash-container text-center">
                        <i class="fa fa-trash" style="font-size:30px" id="trash" draggable="false" ondrop="drop(event)"
                           ondragover="allowDrop(event)" ondragenter="dragEnter(event)"
                           ondragleave="dragLeave(event)" ondragstart="drag(event)"></i>
                        <p style="font-size: medium;">Drag here to remove audio</p>
                    </div>
                </div>
            </div>

            <div id="tab-container">
                <div class="tabs">
                    <div class="tab-button-outer">
                        <ul id="tab-button">
                            <li><a href="#tab01" class="visual-title"><i class="fa fa-music" style="font-size:20px"></i>
                                AUDIO</a></li>
                            <li><a href="#tab02" class="visual-title"><i class="fa fa-paint-brush"
                                                                         style="font-size:20px"></i> VISUALS</a></li>
                        </ul>
                    </div>
                    <div class="tab-select-outer">
                        <select id="tab-select">
                            <option value="#tab01">Audio</option>
                            <option value="#tab02">Visuals</option>
                        </select>
                    </div>

                    <div id="tab01" class="tab-contents">
                        <p class="visual-title text-center" id="audio-placeholder">SELECT A KEY TO START</p>
                        <div id="audio-contents">
                            <div class="row">
                                <!-- waveform -->

                                <div class="col-sm-6">
                                    <p class="visual-title text-center" id="no-audio">NO AUDIO MAPPED</p>
                                    <div id="wave">
                                        <div class="row">
                                            <div class="col-sm-10 waveform-display" >
                                                <div id="waveform" style="vertical-align: middle;"></div>

                                                <button id="btn-pause" class="control-buttons no-button-display"
                                                        onclick="pauseAudio()">
                                                    <i class="far fa-pause-circle"></i></button>
                                                <button id="btn-play" class="control-buttons no-button-display"
                                                        onclick="playAudio()"><i
                                                        class="far fa-play-circle"></i></button>
                                                <button id="btn-stop" class="control-buttons no-button-display"
                                                        onclick="stopAudio()"><i
                                                        class="far fa-stop-circle"></i></button>
                                                <span id="audio-track" style="display: inline-block; padding-left: 5px;"></span>
                                            </div>
                                            <div class="col-sm-2">
                                                <div class="row justify-vertical">
                                                    <div class="col">
                                                        <button class="control-buttons" onclick="zoomIn()"
                                                                id="zoomIn-btn"><i class="fa fa-search-plus"></i>
                                                        </button>
                                                        <button class="control-buttons" onclick="zoomOut()"
                                                                id="zoomOut-btn"><i class="fa fa-search-minus"></i>
                                                        </button>
                                                        <button class="control-buttons"><i class="fas fa-cut"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- settings -->
                                <div class="col-sm-3">
                                    <form class="form-inline">
                                        <div class="form-group" style="width:100%;">
                                            <label for="quantization" class="audio-settings">Quantize
                                                to:</label>
                                            <div class="styled-select">
                                                <select id="quantization" class="styled-select no-audio">
                                                    <option>1</option>
                                                    <option>1/2</option>
                                                    <option>1/4</option>
                                                    <option>1/8</option>
                                                    <option>1/16</option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- <div class="form-group">
                                            <label for="quantization-amount" class="margin-36">Amount:</label>
                                            <p><span id="quantization-amount-value"
                                                     class="quantization-amount-value"></span>
                                            </p>
                                            <div class="amount-slider">
                                                <input type="range" min="1" max="100" value="60" class="amount-slider"
                                                       id="quantization-amount">
                                            </div>
                                        </div> -->

                                        <div class="form-group" class="volume">
                                            <div class="volume-slider">
                                                <i class="fa fa-volume-up no-audio"></i>
                                                <input type="range" min="0" max="100" value="50"
                                                       class="volume-slider no-audio"
                                                       id="volume" onchange="setVolume(this.value)">
                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group" style="width:100%;">
                                        <label for="loop" class="audio-settings">Loop:</label>
                                        <span class="checkbox-switch">
                                                <!--<input type="checkbox" class="input-checkbox" id="loop" onchange="loop()">-->
                                                <input class="input-checkbox no-audio" type="checkbox" id="loop"
                                                       onchange="toggleLoop(this)">
                                                <div class="checkbox-animate">
                                                    <span class="checkbox-off" id="loop-off">OFF</span>
                                                    <span class="checkbox-on" id="loop-on">ON</span>
                                                </div>
                                            </span>
                                    </div>

                                    <div class="form-group" style="width:100%;">
                                        <label for="hold-to-play" class="audio-settings">Hold To
                                            Play:</label>
                                        <span class="checkbox-switch">
                                            <input type="checkbox" class="input-checkbox no-audio"
                                                   id="hold-to-play">
                                            <div class="checkbox-animate">
                                                <span class="checkbox-off">OFF</span>
                                                <span class="checkbox-on">ON</span>
                                            </div>
                                        </span>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab02" class="tab-contents">
                        <p class="visual-title text-center" id="visual-placeholder">SELECT A KEY TO START</p>
                        <div id="visuals-contents">
                            <div class="row">
                                <div class="col-md-3">
                                    <div>
                                        <label for="position-select" class="title-label">Preview</label>
                                    </div>
                                    <div class="preview-container" >
                                        <div class="preview-shape-container"id="theShape" width="100" height="100">
                                            <div class="triangle" id="styled-triangle" width="100" height="100"></div>
                                            <div class="circle" id="styled-circle" width="100" height="100"></div>
                                            <div class="roundedRectangle" id="styled-roundedRectangle" width="100" height="100"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3" id="visual-container-1">
                                    <form class="form-inline">
                                        <div class="form-group">
                                            <label for="shape-select" class="title-label">Shape:</label>
                                            <div class="select-form">
                                                <select class="select-form" id="shape-select"
                                                        onchange="editShape(this.id)"
                                                        width="100" style="width: 100px">
                                                    <option value="circle">Circle</option>
                                                    <option value="triangle">Triangle</option>
                                                    <option value="roundedRectangle">Rounded Rectangle</option>
                                                    <option value="">None</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                    <form class="form-inline">
                                        <div class="form-group">
                                            <label for="position-select" class="title-label">Position:</label>
                                            <div class="select-form">
                                                <select class="select-form" id="position-select" width="100"
                                                        style="width: 100px">
                                                    <option>Random</option>
                                                    <option>Top</option>
                                                    <option>Bottom</option>
                                                    <option>Left</option>
                                                    <option>Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-3" id="visual-container-2">
                                    <form class="form-inline">
                                        <div class="form-group">
                                            <label for="size-select" class="title-label">Size:</label>
                                            <div class="select-form">
                                                <select class="select-form" id="size-select" width="100"
                                                        style="width: 100px">
                                                    <option>Random</option>
                                                    <option>Small</option>
                                                    <option>Medium</option>
                                                    <option>Large</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                    <form class="form-inline">
                                        <div class="form-group">
                                            <label for="delay-select" class="title-label">Delay:</label>
                                            <div class="select-form">
                                                <select class="select-form" id="delay-select" width="100"
                                                        style="width: 100px">
                                                    <option>None</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-3" id="visual-container-3">
                                    <form class="form-inline">
                                        <div class="form-group">
                                            <label for="hue-demo" class="title-label">Colour:</label>
                                            <div class="select-form">
                                                <input type="text" id="hue-demo" class="form-control demo"
                                                       data-control="hue"
                                                       value="#ff6161" onchange="updatePreviewColourHex(this.value)">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div id="tip-popup" style="transform-origin: center center 0px; left: 50%; top: 50%; display:none" class="overlay-content centered-x centered-y active">
                    <h2 class="tip-style">Tip</h2>
                    <p class="message">Drag audio files into key to map an audio to a key.</p>
                    <button class="button expand large js-close-overlay">Close</button>
                </div>
        </div>
    </div>
</div>
</div>

<script src="library/jquery/jquery.min.js"></script>
<script src="library/bootstrap/js/bootstrap.bundle.min.js"></script>

<script type="text/javascript" src="js/paper-full.js"></script>
<script type="text/javascript" src="js/howler.core.min.js"></script>
<script type="text/javascript" src="js/loading-bar.js"></script>
<script type="text/javascript" src="js/jquery.minicolors.min.js"></script>
<script type="text/javascript" src="js/wavesurfer.min.js"></script>

<script type='text/javascript'>
    function playMusic(track, key) {
        if (key == undefined) {
            if (soundPlayingInDir != undefined) {
                soundPlayingInDir.stop();
            }
            // Play sound from dir
            var sound = new Howl({
                src: ['sounds/' + track],
                onload: function () {
                    var duration = sound.duration();
                    // console.log(duration);
                    var id = sound.play();
                },
                onend: function () {
                    // need to toggle back element
                }
            });
            soundPlayingInDir = sound;
        } else {
            // Play sound when pressing key
            if (keyData[key].id !== '') { // is playing

                var currentSound = keyData[key].sound;
                currentSound.stop();
                keyData[key].id = '';
                // console.log("stop audio");

                if (!keyData[key].loop) { // if non loop, create new track
                    var sound = new Howl({
                        src: ['sounds/' + track],
                        onload: function () {
                            var duration = sound.duration();
                            // console.log(duration);

                            var id = sound.play();
                            sound.volume(keyData[key].volume, id);
                            keyData[key].id = id;
                            keyData[key].sound = sound;
                            // console.log(keyData[key].id);

                            showLoadingBar(key, duration);
                        },
                        onend: function () {
                            keyData[key].id = ''; // set track ended
                        }
                    });
                } // if loop, just stop playing

            } else { // not playing
                var sound1 = new Howl({
                    src: ['sounds/' + track],
                    onload: function () {
                        var duration = sound1.duration();
                        // console.log(duration);

                        var id = sound1.play();
                        sound1.volume(keyData[key].volume, id);
                        // console.log(sound.playing(id));
                        keyData[key].id = id;
                        keyData[key].sound = sound1;
                        // console.log(keyData[key].id);
                        if (keyData[key].loop) {
                            sound1.loop(true, id);
                            showLoadingBarLoop(key, duration);
                        } else {
                            showLoadingBar(key, duration);
                        }
                    },
                    onend: function () {
                        if (keyData[key].loop) { // if loop, create another progress bar
                            var duration = sound1.duration(keyData[key].id);
                            showLoadingBarLoop(key, duration);
                        } else {
                            keyData[key].id = ''; // if non loop, set track ended
                        }
                    }
                });
            }
        }
    }

    function stopAllMusic() {
        for (var key in keyData) {
            if (keyData[key].id !== '') { // is playing
                // console.log("stop = " + key);
                var currentSound = keyData[key].sound;
                currentSound.stop();
                keyData[key].id = '';
                keyData[key].sound = '';
            }
        }
    }

    function setVolume(val) {
        var volume = val / 100;
        // console.log(val);
        // console.log(volume);

        var key = $(selectedKey).find("h6").text();
        keyData[key].volume = volume;

        setWavesurferVolume(volume, key);
    }

</script>

<script type='text/javascript'>
    var soundPlayingInDir;
    var keyData = {

        Q: {
            shape: 'roundedRectangle',
            color: "#FF16CC",
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },

        W: {
            shape: 'circle',
            color: '#2ecc71',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        E: {
            shape: 'triangle',
            color: '#3498db',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        R: {
            shape: 'circle',
            color: '#9b59b6',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        T: {
            shape: 'triangle',
            color: '#34495e',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        Y: {
            shape: 'circle',
            color: '#16a085',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        U: {
            shape: 'circle',
            color: '#27ae60',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        I: {
            shape: 'circle',
            color: '#2980b9',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        O: {
            shape: 'triangle',
            color: '#8e44ad',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        P: {
            shape: 'circle',
            color: '#2c3e50',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        A: {
            shape: 'circle',
            color: '#f1c40f',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        S: {
            shape: 'circle',
            color: '#e67e22',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        D: {
            shape: 'roundedRectangle',
            color: '#e74c3c',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        F: {
            shape: 'triangle',
            color: '#95a5a6',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        G: {
            shape: 'roundedRectangle',
            color: '#f39c12',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        H: {
            shape: 'roundedRectangle',
            color: '#d35400',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        J: {
            shape: 'roundedRectangle',
            color: '#1abc9c',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        K: {
            shape: 'roundedRectangle',
            color: '#2ecc71',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        L: {
            shape: 'roundedRectangle',
            color: '#3498db',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        Z: {
            shape: 'roundedRectangle',
            color: '#9b59b6',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        X: {
            shape: 'triangle',
            color: '#34495e',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        C: {
            shape: 'circle',
            color: '#16a085',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        V: {
            shape: 'circle',
            color: '#27ae60',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        B: {
            shape: 'circle',
            color: '#2980b9',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        N: {
            shape: 'triangle',
            color: '#8e44ad',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        M: {
            shape: 'roundedRectangle',
            color: '#2c3e50',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        1: {
            shape: 'roundedRectangle',
            color: '#aaf812',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        2: {
            shape: 'roundedRectangle',
            color: '#a5643a',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        3: {
            shape: 'roundedRectangle',
            color: '#068373',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        4: {
            shape: 'roundedRectangle',
            color: '#cdbdd1',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        5: {
            shape: 'roundedRectangle',
            color: '#4a4e70',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        6: {
            shape: 'roundedRectangle',
            color: '#911aeb',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        7: {
            shape: 'roundedRectangle',
            color: '#1667ba',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        8: {
            shape: 'roundedRectangle',
            color: '#c0ebe1',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        9: {
            shape: 'roundedRectangle',
            color: '#990f4e',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
        'SPACE': {
            shape: 'roundedRectangle',
            color: '#a6b9b0',
            id: '',
            loop: false,
            sound: '',
            volume: '0.5',
        },
    };
</script>

<script type="text/javascript" src="js/vimu.js"></script>
<script type="text/paperscript" src="js/visuals.js" canvas="myCanvas"></script>

<script>
    // var slider = document.getElementById("quantization-amount");
    // var output = document.getElementById("quantization-amount-value");
    // output.innerHTML = slider.value + "%";
    //
    // slider.oninput = function () {
    //     output.innerHTML = this.value + "%";
    // }
</script>

</body>

</html>